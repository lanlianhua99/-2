(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-whiteUrl-detail-detail"],{"523a":function(t,a,e){"use strict";var i=e("a6b2"),n=e.n(i);n.a},6229:function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".example[data-v-13455282]{padding:15px;background-color:#fff}.segmented-control[data-v-13455282]{margin-bottom:15px}.button-group[data-v-13455282]{margin-top:15px;display:flex;justify-content:space-around}.form-item[data-v-13455282]{display:flex;align-items:center}.button[data-v-13455282]{display:flex;align-items:center;height:35px;margin-left:10px}.preHTml[data-v-13455282]{border:1px solid #999;border-radius:4px;margin-bottom:10px;padding:10px}.sign-opration[data-v-13455282]{display:flex;justify-content:space-around;margin-top:10px}",""]),t.exports=a},a21e:function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return i}));var i={uniForms:e("882c").default,uniFormsItem:e("c760").default,uniEasyinput:e("f1cb").default,uniDataSelect:e("494d").default},n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-uni-view",{staticClass:"example"},[e("uni-forms",{ref:"valiForm",attrs:{rules:t.rules,model:t.valiFormData,"label-width":"100"}},[e("uni-forms-item",{attrs:{label:"域名",name:"panUrl",required:!0}},[e("uni-easyinput",{attrs:{placeholder:"请输入域名"},model:{value:t.valiFormData.panUrl,callback:function(a){t.$set(t.valiFormData,"panUrl",a)},expression:"valiFormData.panUrl"}})],1),e("uni-forms-item",{attrs:{label:"备注",name:"remark"}},[e("uni-easyinput",{attrs:{placeholder:"请输入备注"},model:{value:t.valiFormData.remark,callback:function(a){t.$set(t.valiFormData,"remark",a)},expression:"valiFormData.remark"}})],1),e("uni-forms-item",{attrs:{label:"状态",name:"status",required:!0}},[e("uni-data-select",{attrs:{placeholder:"请选择状态",localdata:t.statusRange},model:{value:t.valiFormData.status,callback:function(a){t.$set(t.valiFormData,"status",a)},expression:"valiFormData.status"}})],1)],1),e("v-uni-button",{attrs:{type:"primary"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.submit("valiForm")}}},[t._v("提交")]),t.isEdit?e("v-uni-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"warn"},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.deleteItem.apply(void 0,arguments)}}},[t._v("删除")]):t._e()],1)},o=[]},a6b2:function(t,a,e){var i=e("6229");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("16ef3203",i,!0,{sourceMap:!1,shadowMode:!1})},bab6:function(t,a,e){"use strict";(function(t){e("7a82");var i=e("4ea4").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(e("5530")),o=e("bf5c"),r=i(e("c760")),l={components:{UniFormsItem:r.default},data:function(){return{valiFormData:{panUrl:"",remark:"",status:1,groupName:""},momentInfo:{},rules:{panUrl:{rules:[{required:!0,errorMessage:"域名不能为空"},{pattern:/^[a-zA-Z0-9]+([a-zA-Z0-9-]+\.){1,3}[a-zA-Z0-9]+$/,errorMessage:"请输入正确的域名"}]},status:{rules:[{required:!0,errorMessage:"状态不能为空"}]}},statusRange:[{text:"上线",value:1},{text:"下线",value:0}],showPicker:!1,columns:["ksurl.php","dyurl.php","aliurl.php"],pickerIndex:0,isEdit:!1}},onLoad:function(a){t.log(a,"options"),a.item&&(this.momentInfo=JSON.parse(decodeURIComponent(a.item)),this.valiFormData=JSON.parse(decodeURIComponent(a.item)),t.log(this.valiFormData,"this.valiFormData")),uni.setNavigationBarTitle({title:this.valiFormData.panUrl?"编辑":"添加"}),this.isEdit=Boolean(a.item),t.log(this.isEdit,"this.isEdit"),this.getGroupList()},methods:{getGroupList:function(){var a=this;(0,o.getLinkGroupList)().then((function(e){t.log("getLinkGroupList",e),a.columns=e})).catch((function(a){t.log(a)}))},submit:function(a){var e=this;this.$refs.valiForm.validate().then((function(a){t.log("校验通过",a,e.valiFormData),e.isEdit?(0,o.updateWhiteUrl)((0,n.default)((0,n.default)({},a),{},{domainId:e.momentInfo.id})).then((function(a){t.log(a),uni.showToast({title:"提交成功",icon:"success"}),setTimeout((function(){e.$router.back()}),500)})).catch((function(a){t.log(a)})):(t.log("values",e.valiFormData),(0,o.addWhiteUrl)((0,n.default)({},e.valiFormData)).then((function(a){t.log("addWhiteUrl"),uni.showToast({title:"提交成功",icon:"success"}),setTimeout((function(){e.$router.back()}),500)})).catch((function(a){t.log(a)})))}))},bindPickerChange:function(a){t.log("picker发送选择改变，携带值为",a.detail.value),this.pickerIndex=a.detail.value,this.valiFormData.groupName=this.columns[a.detail.value].text},deleteItem:function(){var a=this;uni.showModal({title:"提示",content:"确定删除吗？",success:function(e){e.confirm?(t.log("用户点击确定"),(0,o.removeWhiteUrl)(a.momentInfo.id).then((function(e){t.log(e),uni.showToast({title:"删除成功",icon:"success"}),setTimeout((function(){a.$router.back()}),500)})).catch((function(a){t.log(a)}))):e.cancel&&t.log("用户点击取消")}})}}};a.default=l}).call(this,e("5a52")["default"])},fa26:function(t,a,e){"use strict";e.r(a);var i=e("a21e"),n=e("fe5c");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(o);e("523a");var r=e("f0c5"),l=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"13455282",null,!1,i["a"],void 0);a["default"]=l.exports},fe5c:function(t,a,e){"use strict";e.r(a);var i=e("bab6"),n=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(o);a["default"]=n.a}}]);