(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-user"],{2553:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var n={uniTag:i("ebcb").default,uniCard:i("bd10").default,uniPagination:i("63d3").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"status"},[t._v("状态:"),i("div",{staticClass:"status-body"},t._l(t.roleRange,(function(e){return i("uni-tag",{key:e.value,attrs:{type:t.query.role==e.value?"primary":"default",text:e.text},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.roleChange(e)}}})})),1)]),i("div",{staticClass:"content"},t._l(t.userList,(function(e){return i("uni-card",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goDetail(e)}},scopedSlots:t._u([{key:"title",fn:function(){return[i("div",{staticClass:"uni-card__header"},[i("v-uni-text",[t._v("用户id:"+t._s(e.id))]),i("v-uni-text",[i("uni-tag",{attrs:{text:1===e.role_id?"普通用户":2===e.role_id?"会员":"管理员",type:""}})],1)],1)]},proxy:!0},{key:"actions",fn:function(){return[i("v-uni-view",{staticClass:"card-actions"},[1===e.role_id?i("v-uni-view",{staticClass:"card-actions-item",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.actionsClick("开通会员",e)}}},[i("v-uni-text",{staticClass:"card-actions-item-text"},[i("v-uni-button",{attrs:{size:"mini",type:"primary"}},[t._v("开通会员")])],1)],1):t._e(),2===e.role_id?i("v-uni-view",{staticClass:"card-actions-item",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.actionsClick("关闭会员",e)}}},[i("v-uni-text",{staticClass:"card-actions-item-text"},[i("v-uni-button",{attrs:{size:"mini",type:"primary"}},[t._v("关闭会员")])],1)],1):t._e(),i("v-uni-view",{staticClass:"card-actions-item",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.actionsClick("用户发布的链接列表",e)}}},[i("v-uni-text",{staticClass:"card-actions-item-text"},[i("v-uni-button",{attrs:{size:"mini",type:"primary"}},[t._v("用户发布的链接列表")])],1)],1)],1)]},proxy:!0}],null,!0)},[i("p",[t._v("用户名:"+t._s(e.name))]),i("p",[t._v("主页标题:"+t._s(e.pageTitle))])])})),1),i("uni-pagination",{attrs:{total:t.totalCount,title:"标题文字",current:t.pageNum,pageSize:t.query.size},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.pageChange.apply(void 0,arguments)}}})],1)},s=[]},5502:function(t,e,i){"use strict";i.r(e);var n=i("8be6"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},"56ed":function(t,e,i){var n=i("5a36");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("1faeaae6",n,!0,{sourceMap:!1,shadowMode:!1})},"5a36":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.user-actions[data-v-1894cb20]{display:flex;justify-content:space-around}.container .status .status-body[data-v-1894cb20]{width:250px}',""]),t.exports=e},8324:function(t,e,i){"use strict";i.r(e);var n=i("2553"),a=i("5502");for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("ddec");var u=i("f0c5"),o=Object(u["a"])(a["default"],n["b"],n["c"],!1,null,"1894cb20",null,!1,n["a"],void 0);e["default"]=o.exports},"8be6":function(t,e,i){"use strict";(function(t){i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("e9c4");var a=n(i("494d")),s=i("bf5c"),u=i("510a"),o={components:{UniDataSelect:a.default},data:function(){return{searchValue:"",userList:[{username:"张三",password:"123456"}],query:{offset:0,size:10,role:""},totalCount:0,roleRange:[{text:"全部",value:""},{text:"普通用户",value:1},{text:"会员",value:2}],actionList:[{}]}},onLoad:function(){this.getDataList()},computed:{pageNum:function(){return this.query.offset/this.query.size+1}},methods:{switchVip:function(e,i){var n=this;(0,u.rankRole)({roleId:e,userId:i}).then((function(i){t.log("rankRole",i),uni.showToast({title:2===e?"开通会员成功":"关闭会员成功",icon:"success",duration:2e3}),n.getDataList()})).catch((function(e){t.log("rankRole",e)}))},roleChange:function(e){t.log("roleChange",e),this.query.role=e.value,this.query.offset=0,this.getDataList()},actionsClick:function(e,i){switch(t.log("actionsClick",e),e){case"开通会员":this.switchVip(2,i.id);break;case"关闭会员":this.switchVip(1,i.id);break;case"用户发布的链接列表":uni.$emit("selectUser",{userId:i.id,userName:i.name}),uni.switchTab({url:"/pages/index/index",success:function(t){}});break;case"评论":break}},search:function(t){this.$emit("search",t.value)},goDetail:function(t){JSON.stringify(t)},getDataList:function(){var e=this;(0,s.getUserList)(this.query).then((function(i){e.userList=i.list,e.totalCount=i.count,t.log("getUserList",i,e.pageNum)})).catch((function(e){t.log("getUserList",e)}))},pageChange:function(t){this.query.offset=(t.current-1)*this.query.size,this.getDataList()}}};e.default=o}).call(this,i("5a52")["default"])},ddec:function(t,e,i){"use strict";var n=i("56ed"),a=i.n(n);a.a}}]);